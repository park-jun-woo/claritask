# ClariInit - í”„ë¡œì íŠ¸ ì´ˆê¸°í™” í”„ë¡œì„¸ìŠ¤

## ê°œìš”

`clari init`ì€ ìƒˆ í”„ë¡œì íŠ¸ë¥¼ Claritaskë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì´ˆê¸°í™” ëª…ë ¹ì–´ë‹¤. ë‹¨ìˆœíˆ DBë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, **LLMê³¼ í˜‘ì—…í•˜ì—¬ í”„ë¡œì íŠ¸ ì„¤ì •ì„ ì™„ì„±**í•˜ëŠ” ëŒ€í™”í˜• í”„ë¡œì„¸ìŠ¤ë‹¤.

**ëª©í‘œ**:
- í”„ë¡œì íŠ¸ ë©”íƒ€ë°ì´í„°(tech, design) ìë™ ë¶„ì„ ë° ì œì•ˆ
- ì‚¬ìš©ì ìŠ¹ì¸ ê¸°ë°˜ ì„¤ì • í™•ì •
- Specs ë¬¸ì„œ ì´ˆì•ˆ ìë™ ìƒì„±
- ìˆ˜ë™ ì„¸íŒ… 30-50ë¶„ â†’ 5ë¶„ìœ¼ë¡œ ë‹¨ì¶•

---

## ì „ì²´ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      clari init <project-id>                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 1: DB ì´ˆê¸°í™”                                               â”‚
â”‚   - .claritask/db.clt ìƒì„±                                          â”‚
â”‚   - ìŠ¤í‚¤ë§ˆ ë§ˆì´ê·¸ë ˆì´ì…˜                                           â”‚
â”‚   - project ë ˆì½”ë“œ ìƒì„±                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 2: ì»¨í…ìŠ¤íŠ¸ ë¶„ì„ (claude --print)                          â”‚
â”‚   - í”„ë¡œì íŠ¸ íŒŒì¼ ìŠ¤ìº”                                           â”‚
â”‚   - tech stack ì¶”ë¡                                              â”‚
â”‚   - design íŒ¨í„´ ì œì•ˆ                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 3: ì‚¬ìš©ì ìŠ¹ì¸                                             â”‚
â”‚   - ì œì•ˆëœ tech/design ì¶œë ¥                                      â”‚
â”‚   - ì‚¬ìš©ì ìˆ˜ì • ë˜ëŠ” ìŠ¹ì¸                                         â”‚
â”‚   - DBì— ì €ì¥                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 4: Specs ì´ˆì•ˆ ìƒì„± (claude --print)                        â”‚
â”‚   - context, tech, design ê¸°ë°˜                                   â”‚
â”‚   - í”„ë¡œì íŠ¸ ìŠ¤í™ ë¬¸ì„œ ì´ˆì•ˆ ìƒì„±                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 5: í”¼ë“œë°± ë£¨í”„                                             â”‚
â”‚   - ì‚¬ìš©ì ì˜ê²¬ ì…ë ¥                                             â”‚
â”‚   - claude --printë¡œ ìˆ˜ì •                                        â”‚
â”‚   - ìŠ¹ì¸ë  ë•Œê¹Œì§€ ë°˜ë³µ                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì™„ë£Œ: specs/ í´ë”ì— ë¬¸ì„œ ì €ì¥                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Phase 1: DB ì´ˆê¸°í™”

### ëª…ë ¹ì–´

```bash
clari init <project-id> [--name "í”„ë¡œì íŠ¸ ì´ë¦„"] [--description "ì„¤ëª…"]
```

### ë™ì‘

1. **ë””ë ‰í† ë¦¬ ìƒì„±**: `.claritask/` í´ë” ìƒì„±
2. **DB ìƒì„±**: `.claritask/db.clt` SQLite íŒŒì¼ ìƒì„±
3. **ë§ˆì´ê·¸ë ˆì´ì…˜**: ìŠ¤í‚¤ë§ˆ í…Œì´ë¸” ìƒì„±
4. **í”„ë¡œì íŠ¸ ë“±ë¡**: projects í…Œì´ë¸”ì— ë ˆì½”ë“œ ì‚½ì…

### ê²€ì¦

- `project-id`: ì˜ë¬¸ ì†Œë¬¸ì, ìˆ«ì, í•˜ì´í”ˆ, ì–¸ë”ìŠ¤ì½”ì–´ë§Œ í—ˆìš©
- ì´ë¯¸ `.claritask/db.clt`ê°€ ì¡´ì¬í•˜ë©´ ì—ëŸ¬ (ë®ì–´ì“°ê¸° ë°©ì§€)

### ì¶œë ¥

```json
{
  "success": true,
  "phase": "db_init",
  "project_id": "my-project",
  "db_path": ".claritask/db.clt",
  "message": "Database initialized"
}
```

---

## Phase 2: ì»¨í…ìŠ¤íŠ¸ ë¶„ì„

### ëª©ì 

í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¥¼ ìŠ¤ìº”í•˜ì—¬ **tech stack**ê³¼ **design íŒ¨í„´**ì„ ìë™ìœ¼ë¡œ ì¶”ë¡ í•œë‹¤.

### ìŠ¤ìº” ëŒ€ìƒ

| íŒŒì¼/íŒ¨í„´ | ì¶”ë¡  ë‚´ìš© |
|-----------|-----------|
| `package.json` | Node.js, í”„ë ˆì„ì›Œí¬ (React, Vue, Express ë“±) |
| `go.mod` | Go, ì‚¬ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| `requirements.txt`, `pyproject.toml` | Python, í”„ë ˆì„ì›Œí¬ (Django, FastAPI ë“±) |
| `Cargo.toml` | Rust |
| `pom.xml`, `build.gradle` | Java, Kotlin |
| `README.md` | í”„ë¡œì íŠ¸ ì„¤ëª…, ëª©ì  |
| `docker-compose.yml` | ì¸í”„ë¼ êµ¬ì„± |
| `src/`, `internal/`, `lib/` | ë””ë ‰í† ë¦¬ êµ¬ì¡° íŒ¨í„´ |

### LLM í˜¸ì¶œ

```bash
claude --print "$(cat << 'EOF'
[CLARITASK INIT - CONTEXT ANALYSIS]

í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¥¼ ë¶„ì„í•˜ì—¬ tech stackê³¼ design íŒ¨í„´ì„ ì¶”ë¡ í•´ì£¼ì„¸ìš”.

## ìŠ¤ìº”ëœ íŒŒì¼ ì •ë³´
${SCANNED_FILES}

## í”„ë¡œì íŠ¸ ì„¤ëª…
${PROJECT_DESCRIPTION}

## ì¶œë ¥ í˜•ì‹ (JSON)
{
  "tech": {
    "language": "ì£¼ìš” ì–¸ì–´",
    "framework": "í”„ë ˆì„ì›Œí¬",
    "database": "ë°ì´í„°ë² ì´ìŠ¤",
    "testing": "í…ŒìŠ¤íŠ¸ ë„êµ¬",
    "build": "ë¹Œë“œ ë„êµ¬",
    "additional": ["ê¸°íƒ€ ë„êµ¬ë“¤"]
  },
  "design": {
    "architecture": "ì•„í‚¤í…ì²˜ íŒ¨í„´",
    "patterns": ["ì‚¬ìš©ëœ ë””ìì¸ íŒ¨í„´ë“¤"],
    "directory_structure": "ë””ë ‰í† ë¦¬ êµ¬ì¡° ì„¤ëª…",
    "conventions": ["ì½”ë”© ì»¨ë²¤ì…˜"]
  },
  "context": {
    "project_type": "í”„ë¡œì íŠ¸ ìœ í˜•",
    "domain": "ë„ë©”ì¸",
    "target_users": "ëŒ€ìƒ ì‚¬ìš©ì",
    "key_features": ["í•µì‹¬ ê¸°ëŠ¥ ì¶”ì¸¡"]
  }
}
EOF
)"
```

### ì¶œë ¥ ì˜ˆì‹œ

```json
{
  "tech": {
    "language": "Go 1.21+",
    "framework": "Cobra (CLI)",
    "database": "SQLite",
    "testing": "go test",
    "build": "go build",
    "additional": ["mattn/go-sqlite3"]
  },
  "design": {
    "architecture": "Layered Architecture",
    "patterns": ["Repository", "Service", "Command"],
    "directory_structure": "internal/ ê¸°ë°˜ íŒ¨í‚¤ì§€ êµ¬ì¡°",
    "conventions": ["gofmt", "camelCase ë³€ìˆ˜ëª…"]
  },
  "context": {
    "project_type": "CLI Tool",
    "domain": "Task Management",
    "target_users": "ê°œë°œì",
    "key_features": ["Task ê´€ë¦¬", "Feature ì •ì˜", "ìë™ ì‹¤í–‰"]
  }
}
```

---

## Phase 3: ì‚¬ìš©ì ìŠ¹ì¸

### ì¸í„°ë™ì…˜ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ ë¶„ì„ëœ Tech Stack                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Language:    Go 1.21+                                           â”‚
â”‚ Framework:   Cobra (CLI)                                        â”‚
â”‚ Database:    SQLite                                             â”‚
â”‚ Testing:     go test                                            â”‚
â”‚ Additional:  mattn/go-sqlite3                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ ë¶„ì„ëœ Design                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Architecture:  Layered Architecture                             â”‚
â”‚ Patterns:      Repository, Service, Command                     â”‚
â”‚ Structure:     internal/ ê¸°ë°˜ íŒ¨í‚¤ì§€ êµ¬ì¡°                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[A] ìŠ¹ì¸  [E] ìˆ˜ì •  [R] ì¬ë¶„ì„  [Q] ì·¨ì†Œ
>
```

### ìˆ˜ì • ëª¨ë“œ

ì‚¬ìš©ìê°€ `E`ë¥¼ ì„ íƒí•˜ë©´ JSON ì—ë””í„° ë˜ëŠ” ì¸ë¼ì¸ ìˆ˜ì • ëª¨ë“œ ì§„ì…:

```
ìˆ˜ì •í•  í•­ëª© (ì˜ˆ: tech.database): tech.database
í˜„ì¬ ê°’: SQLite
ìƒˆ ê°’: PostgreSQL

ê³„ì† ìˆ˜ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ? [Y/n]: n
```

### ìŠ¹ì¸ ì‹œ ë™ì‘

1. `context` í…Œì´ë¸”ì— context ë°ì´í„° ì €ì¥
2. `tech` í…Œì´ë¸”ì— tech ë°ì´í„° ì €ì¥
3. `design` í…Œì´ë¸”ì— design ë°ì´í„° ì €ì¥

---

## Phase 4: Specs ì´ˆì•ˆ ìƒì„±

### ëª©ì 

í™•ì •ëœ context, tech, designì„ ê¸°ë°˜ìœ¼ë¡œ **í”„ë¡œì íŠ¸ ìŠ¤í™ ë¬¸ì„œ ì´ˆì•ˆ**ì„ ìƒì„±í•œë‹¤.

### LLM í˜¸ì¶œ

```bash
claude --print "$(cat << 'EOF'
[CLARITASK INIT - SPECS GENERATION]

ì•„ë˜ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í”„ë¡œì íŠ¸ ìŠ¤í™ ë¬¸ì„œ ì´ˆì•ˆì„ ì‘ì„±í•´ì£¼ì„¸ìš”.

## í”„ë¡œì íŠ¸ ì •ë³´
- ID: ${PROJECT_ID}
- ì´ë¦„: ${PROJECT_NAME}
- ì„¤ëª…: ${PROJECT_DESCRIPTION}

## Tech Stack
${TECH_JSON}

## Design
${DESIGN_JSON}

## Context
${CONTEXT_JSON}

## ì¶œë ¥ í˜•ì‹ (Markdown)

# ${PROJECT_NAME} Specification

## 1. ê°œìš”
[í”„ë¡œì íŠ¸ ëª©ì ê³¼ ë°°ê²½]

## 2. ê¸°ëŠ¥ ëª©ë¡
### 2.1 í•µì‹¬ ê¸°ëŠ¥
- [ ] ê¸°ëŠ¥ 1: ì„¤ëª…
- [ ] ê¸°ëŠ¥ 2: ì„¤ëª…

### 2.2 ë¶€ê°€ ê¸°ëŠ¥
- [ ] ê¸°ëŠ¥ 3: ì„¤ëª…

## 3. ì•„í‚¤í…ì²˜
[ì‹œìŠ¤í…œ êµ¬ì¡° ì„¤ëª…]

## 4. ë°ì´í„° ëª¨ë¸
[ì£¼ìš” ì—”í‹°í‹° ì •ì˜]

## 5. API/CLI ì¸í„°í˜ì´ìŠ¤
[ì£¼ìš” ì¸í„°í˜ì´ìŠ¤ ì •ì˜]

## 6. ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
[ì„±ëŠ¥, ë³´ì•ˆ, í™•ì¥ì„± ë“±]
EOF
)"
```

### ì¶œë ¥ ì˜ˆì‹œ

```markdown
# Claritask Specification

## 1. ê°œìš”
LLM ê¸°ë°˜ í”„ë¡œì íŠ¸ ìë™ ì‹¤í–‰ ì‹œìŠ¤í…œ. Taskë¥¼ ì •ì˜í•˜ê³  Claudeë¥¼ í†µí•´
ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰í•˜ì—¬ ëŒ€ê·œëª¨ ê°œë°œ ì‘ì—…ì„ ìë™í™”í•œë‹¤.

## 2. ê¸°ëŠ¥ ëª©ë¡
### 2.1 í•µì‹¬ ê¸°ëŠ¥
- [ ] í”„ë¡œì íŠ¸ ì´ˆê¸°í™”: clari initìœ¼ë¡œ í”„ë¡œì íŠ¸ ì„¤ì •
- [ ] Feature ê´€ë¦¬: FDL ê¸°ë°˜ ê¸°ëŠ¥ ì •ì˜
- [ ] Task ì‹¤í–‰: claude --print ì—°ë™ ìë™ ì‹¤í–‰

### 2.2 ë¶€ê°€ ê¸°ëŠ¥
- [ ] Memo ì‹œìŠ¤í…œ: ì»¨í…ìŠ¤íŠ¸ ë©”ëª¨ ê´€ë¦¬
- [ ] Edge ê´€ë¦¬: ì˜ì¡´ì„± ê·¸ë˜í”„

## 3. ì•„í‚¤í…ì²˜
...
```

---

## Phase 5: í”¼ë“œë°± ë£¨í”„

### ì¸í„°ë™ì…˜ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“„ ìƒì„±ëœ Specs ì´ˆì•ˆ                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ (Specs ë‚´ìš© ì¶œë ¥)                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[A] ìŠ¹ì¸ ë° ì €ì¥  [F] í”¼ë“œë°± ì…ë ¥  [Q] ì·¨ì†Œ
> F

í”¼ë“œë°±ì„ ì…ë ¥í•˜ì„¸ìš” (ë¹ˆ ì¤„ ë‘ ë²ˆìœ¼ë¡œ ì¢…ë£Œ):
> ì¸ì¦ ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”. JWT ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„í•˜ê³ ,
> ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ APIë„ í¬í•¨í•´ì£¼ì„¸ìš”.
>
>

í”¼ë“œë°± ë°˜ì˜ ì¤‘...
```

### í”¼ë“œë°± ë°˜ì˜ LLM í˜¸ì¶œ

```bash
claude --print "$(cat << 'EOF'
[CLARITASK INIT - SPECS REVISION]

ê¸°ì¡´ Specs ì´ˆì•ˆì„ ì‚¬ìš©ì í”¼ë“œë°±ì— ë§ê²Œ ìˆ˜ì •í•´ì£¼ì„¸ìš”.

## ê¸°ì¡´ Specs
${CURRENT_SPECS}

## ì‚¬ìš©ì í”¼ë“œë°±
${USER_FEEDBACK}

## ìˆ˜ì •ëœ Specs (ì „ì²´ ë¬¸ì„œ)
...
EOF
)"
```

### ë°˜ë³µ ì¡°ê±´

- ì‚¬ìš©ìê°€ `A`(ìŠ¹ì¸)ë¥¼ ì„ íƒí•  ë•Œê¹Œì§€ Phase 5 ë°˜ë³µ
- ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜ ì œí•œ ì—†ìŒ (ì‚¬ìš©ì ì¬ëŸ‰)

### ìŠ¹ì¸ ì‹œ ë™ì‘

1. `specs/${PROJECT_ID}.md` íŒŒì¼ë¡œ ì €ì¥
2. ì´ˆê¸°í™” ì™„ë£Œ ë©”ì‹œì§€ ì¶œë ¥

---

## ìµœì¢… ì¶œë ¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… í”„ë¡œì íŠ¸ ì´ˆê¸°í™” ì™„ë£Œ                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Project ID:   my-project                                        â”‚
â”‚ Database:     .claritask/db.clt                                     â”‚
â”‚ Specs:        specs/my-project.md                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë‹¤ìŒ ë‹¨ê³„:                                                       â”‚
â”‚   1. specs/my-project.md ê²€í†  ë° ìˆ˜ì •                            â”‚
â”‚   2. clari feature add <name> ìœ¼ë¡œ ê¸°ëŠ¥ ì¶”ê°€                     â”‚
â”‚   3. clari fdl sync <feature_id> ìœ¼ë¡œ FDL ë™ê¸°í™”                 â”‚
â”‚   4. clari project start ë¡œ ìë™ ì‹¤í–‰                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ëª…ë ¹ì–´ ì˜µì…˜

```bash
clari init <project-id> [options]

Arguments:
  project-id          í”„ë¡œì íŠ¸ ID (í•„ìˆ˜)

Options:
  --name, -n          í”„ë¡œì íŠ¸ ì´ë¦„ (ê¸°ë³¸ê°’: project-id)
  --description, -d   í”„ë¡œì íŠ¸ ì„¤ëª…
  --skip-analysis     ì»¨í…ìŠ¤íŠ¸ ë¶„ì„ ê±´ë„ˆë›°ê¸°
  --skip-specs        Specs ìƒì„± ê±´ë„ˆë›°ê¸°
  --non-interactive   ë¹„ëŒ€í™”í˜• ëª¨ë“œ (ê¸°ë³¸ ì œì•ˆ ìë™ ìŠ¹ì¸)
  --force             ê¸°ì¡´ DB ë®ì–´ì“°ê¸°
```

### ì˜ˆì‹œ

```bash
# ê¸°ë³¸ ì‚¬ìš©
clari init my-api

# ì˜µì…˜ ì§€ì •
clari init my-api --name "My REST API" --description "ì‚¬ìš©ì ê´€ë¦¬ API"

# ë¹ ë¥¸ ì´ˆê¸°í™” (ë¶„ì„/ìŠ¤í™ ê±´ë„ˆë›°ê¸°)
clari init my-api --skip-analysis --skip-specs

# ê¸°ì¡´ í”„ë¡œì íŠ¸ ì¬ì´ˆê¸°í™”
clari init my-api --force
```

---

## ìƒíƒœ ì €ì¥

ê° Phase ì™„ë£Œ ì‹œ `state` í…Œì´ë¸”ì— ì§„í–‰ ìƒíƒœ ì €ì¥:

| Key | Value | ì„¤ëª… |
|-----|-------|------|
| `init_phase` | `1`~`5` | í˜„ì¬ Phase |
| `init_started_at` | ISO8601 | ì´ˆê¸°í™” ì‹œì‘ ì‹œê°„ |
| `init_completed_at` | ISO8601 | ì´ˆê¸°í™” ì™„ë£Œ ì‹œê°„ |
| `init_specs_revision` | `0`~`n` | Specs ìˆ˜ì • íšŸìˆ˜ |

ì¤‘ë‹¨ í›„ ì¬ì‹œì‘ ì‹œ ë§ˆì§€ë§‰ Phaseë¶€í„° ì¬ê°œ ê°€ëŠ¥:

```bash
# ì¤‘ë‹¨ëœ ì´ˆê¸°í™” ì¬ê°œ
clari init --resume
```

---

## ì—ëŸ¬ ì²˜ë¦¬

| ìƒí™© | ë™ì‘ |
|------|------|
| Claude í˜¸ì¶œ ì‹¤íŒ¨ | 3íšŒ ì¬ì‹œë„ í›„ ì—ëŸ¬ |
| ì‚¬ìš©ì ì·¨ì†Œ (Q) | í˜„ì¬ê¹Œì§€ ìƒíƒœ ì €ì¥, ì¬ê°œ ê°€ëŠ¥ |
| ìœ íš¨í•˜ì§€ ì•Šì€ JSON ì‘ë‹µ | ì¬ìƒì„± ìš”ì²­ |
| íŒŒì¼ ì“°ê¸° ì‹¤íŒ¨ | ì—ëŸ¬ ë©”ì‹œì§€ ì¶œë ¥, ë¡¤ë°± |

---

## êµ¬í˜„ ë…¸íŠ¸

### Phase 2 íŒŒì¼ ìŠ¤ìº”

```go
type ScannedFile struct {
    Path    string
    Type    string  // "package_json", "go_mod", "readme", etc.
    Content string  // íŒŒì¼ ë‚´ìš© (ì¼ë¶€)
}

func ScanProjectFiles(dir string) []ScannedFile {
    // ìš°ì„ ìˆœìœ„: package.json, go.mod, README.md, ...
    // ê° íŒŒì¼ì˜ ì²˜ìŒ 500ì¤„ë§Œ ì½ê¸°
    // ë°”ì´ë„ˆë¦¬ íŒŒì¼ ì œì™¸
}
```

### LLM ì‘ë‹µ íŒŒì‹±

```go
type ContextAnalysisResponse struct {
    Tech    map[string]interface{} `json:"tech"`
    Design  map[string]interface{} `json:"design"`
    Context map[string]interface{} `json:"context"`
}

func ParseLLMResponse(output string) (*ContextAnalysisResponse, error) {
    // JSON ë¸”ë¡ ì¶”ì¶œ (```json ... ```)
    // íŒŒì‹± ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë°˜í™˜
}
```

### ëŒ€í™”í˜• í”„ë¡¬í”„íŠ¸

```go
func PromptApproval(options []string) string {
    // [A] ìŠ¹ì¸  [E] ìˆ˜ì •  [R] ì¬ë¶„ì„  [Q] ì·¨ì†Œ
    // ì‚¬ìš©ì ì…ë ¥ ì½ê¸°
    // ìœ íš¨í•œ ì˜µì…˜ë§Œ í—ˆìš©
}

func PromptMultilineInput(prompt string) string {
    // ì—¬ëŸ¬ ì¤„ ì…ë ¥
    // ë¹ˆ ì¤„ ë‘ ë²ˆìœ¼ë¡œ ì¢…ë£Œ
}
```
